<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Matrix3D.as</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">org</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">papervision3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">math</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">org</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">papervision3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Papervision3D</span>;        <span class="ActionScriptASDoc">/**     * The Matrix3D class lets you create and manipulate 4x3 3D transformation matrices.     */</span><span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptASDoc">/**     * X O O O     * O O O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n11</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O X O O     * O O O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n12</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O X O     * O O O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n13</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O X     * O O O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n14</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * X O O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n21</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O X O O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n22</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O X O     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n23</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O X     * O O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n24</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * X O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n31</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O X O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n32</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O X O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n33</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O O X    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n34</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O O O     * X O O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n41</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O O O     * O X O O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n42</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O O O     * O O X O    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n43</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptASDoc">/**     * O O O O     * O O O O     * O O O O     * O O O X    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n44</span> :<span class="ActionScriptDefault_Text">Number</span>;    <span class="ActionScriptComment">// temp objects to save constant instantiation of objects. </span>    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">temp</span> : <span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IDENTITY</span>;         <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n3Di</span> : <span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZERO</span>;     <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n3Dj</span> : <span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZERO</span>;     <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n3Dk</span> : <span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ZERO</span>;         <span class="ActionScriptComment">// _________________________________________________________________________________ Matrix3D</span>    <span class="ActionScriptASDoc">/**    * The Matrix3D constructor lets you create Matrix3D objects.    *    * @param    args    The values to populate the matrix with. Identity matrix is returned by default.    */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>    <span class="ActionScriptBracket/Brace">{</span>                 <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">)</span>;         <span class="ActionScriptComment">//trace("new matrix");</span>    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptComment">// sets the properties of the Matrix without creating a new one. </span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptDefault_Text">args</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&lt;</span> 12 <span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n44</span> <span class="ActionScriptOperator">=</span> 1;            <span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">else</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>3<span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>4<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>5<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>6<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>7<span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>8<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>9<span class="ActionScriptBracket/Brace">]</span>;  <span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>10<span class="ActionScriptBracket/Brace">]</span>; <span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>11<span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 16 <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>12<span class="ActionScriptBracket/Brace">]</span>;     <span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>13<span class="ActionScriptBracket/Brace">]</span>; <span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>14<span class="ActionScriptBracket/Brace">]</span>; <span class="ActionScriptDefault_Text">n44</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span>15<span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptBracket/Brace">}</span>             <span class="ActionScriptReserved">else</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">n44</span> <span class="ActionScriptOperator">=</span> 1;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ IDENTITY</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">IDENTITY</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("Matrix.IDENTITY"); </span>        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span>        <span class="ActionScriptBracket/Brace">(</span>            <span class="ActionScriptBracket/Brace">[</span>                1<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span>                0<span class="ActionScriptOperator">,</span> 1<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span>                0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 1<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span>                0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 1            <span class="ActionScriptBracket/Brace">]</span>        <span class="ActionScriptBracket/Brace">)</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ trace</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">s</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;        <span class="ActionScriptDefault_Text">s</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n11</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n12</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n13</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n14</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\n"</span>;        <span class="ActionScriptDefault_Text">s</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n21</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n22</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n23</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n24</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\n"</span>;        <span class="ActionScriptDefault_Text">s</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n31</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n32</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n33</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n34</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\n"</span>;        <span class="ActionScriptDefault_Text">s</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n41</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n42</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n43</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\t\t"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n44</span><span class="ActionScriptOperator">*</span>1000<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>1000 <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"\n"</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">s</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ OPERATIONS</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateMultiply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a14</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b14</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a24</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b24</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a34</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b34</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a14</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a24</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a34</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("matrix.multiply"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateMultiply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateMultiply3x3</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateMultiply4x4</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a41</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b41</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a42</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b42</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a43</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b43</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a14</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b14</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a24</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b24</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a34</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b34</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a44</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b44</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a14</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a24</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a34</span>;                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a41</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a42</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a43</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a41</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a42</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a43</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a41</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a42</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a43</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a41</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a42</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a43</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a44</span>;    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**     *      */</span>     <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateSkewSymmetric</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiply3x3</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("Multiply3x3"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateMultiply3x3</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateAdd</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">add</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("matrix.add"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateAdd</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateInverse</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">d</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">det</span>;        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> 0.001 <span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">=</span> 1<span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">d</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m21</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m31</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m12</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m22</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m32</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m13</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m23</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m33</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m14</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m24</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>; <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m34</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m33</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m23</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m33</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m13</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m23</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m13</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m23</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m33</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m13</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m33</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m13</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m23</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m33</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m23</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m33</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m13</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m23</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m13</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m23</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m33</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m13</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m33</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m13</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m23</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m32</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m22</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m32</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m12</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">d</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m22</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m12</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span>    <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m22</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m32</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m12</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m34</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m32</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m12</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m24</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">m22</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">m14</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateTranspose</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n11</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n12</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n13</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n14</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n21</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n22</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n23</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n24</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n31</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n32</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n33</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n34</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n41</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n42</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n43</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n44</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span>;                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n11</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n12</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n13</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n21</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n22</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n23</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n32</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n33</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n34</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n41</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n42</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n43</span>;     <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n44</span>;    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">inverse</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">inv</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">inv</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateInverse</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">inv</span>;    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">invert</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptDefault_Text">temp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">copy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;             <span class="ActionScriptDefault_Text">calculateInverse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">temp</span><span class="ActionScriptBracket/Brace">)</span>;             <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">det</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">return</span>    <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">+</span>                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">/*public function get trace():Number    {        return this.n11 + this.n22 + this.n33 + 1;    }*/</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ COPY</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">copy</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">copy3x3</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span>;   <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("matrix3D.clone"); </span>        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span>        <span class="ActionScriptBracket/Brace">(</span>            <span class="ActionScriptBracket/Brace">[</span>                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span><span class="ActionScriptOperator">,</span>                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span><span class="ActionScriptOperator">,</span>                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>            <span class="ActionScriptBracket/Brace">]</span>        <span class="ActionScriptBracket/Brace">)</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ VECTOR</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiplyVector</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiplyVector3x3</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiplyVector4x4</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 1.0 <span class="ActionScriptOperator">/</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n41</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n42</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n43</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n44</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span>;                <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">vw</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">vw</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">vw</span>;    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotateAxis</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vx</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vy</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vz</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span>;        <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">normalize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptComment">/*    public static function projectVector( m:Matrix3D, v:Number3D ):void    {        var c:Number = 1 / ( v.x * m.n41 + v.y * m.n42 + v.z * m.n43 + 1 );        multiplyVector( m, v );        v.x = v.x * c;        v.y = v.y * c;        v.z = 0;    }*/</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ EULER</span><span class="ActionScriptComment">/*    public static function matrix2eulerOLD( m:Matrix3D ):Number3D    {        var angle:Number3D = new Number3D();        var d :Number = -Math.asin( Math.max( -1, Math.min( 1, m.n13 ) ) ); // Calculate Y-axis angle        var c :Number =  Math.cos( d );        angle.y = d * toDEGREES;        var trX:Number, trY:Number;        if( Math.abs( c ) &gt; 0.005 )  // Gimball lock?        {            trX =  m.n33 / c;  // No, so get X-axis angle            trY = -m.n23 / c;            angle.x = Math.atan2( trY, trX ) * toDEGREES;            trX =  m.n11 / c;  // Get Z-axis angle            trY = -m.n12 / c;            angle.z = Math.atan2( trY, trX ) * toDEGREES;        }        else  // Gimball lock has occurred        {            angle.x = 0;  // Set X-axis angle to zero            trX = m.n22;  // And calculate Z-axis angle            trY = m.n21;            angle.z = Math.atan2( trY, trX ) * toDEGREES;        }        // TODO: Clamp all angles to range        return angle;    }        public static function matrix2euler2( t:Matrix3D, rot:Number3D = null, scale:Number3D=null):Number3D    {        if(!rot) rot = Number3D.ZERO;         // Normalize the local x, y and z axes to remove scaling.        n3Di.reset( t.n11, t.n21, t.n31 );        n3Dj.reset( t.n12, t.n22, t.n32 );        n3Dk.reset( t.n13, t.n23, t.n33 );        n3Di.normalize();        n3Dj.normalize();        n3Dk.normalize();        temp.reset([            n3Di.x, n3Dj.x, n3Dk.x, 0,            n3Di.y, n3Dj.y, n3Dk.y, 0,            n3Di.z, n3Dj.z, n3Dk.z, 0        ]);        var m:Matrix3D = temp;        // Extract the first angle, rot.x        rot.x = Math.atan2( m.n23, m.n33 ); // rot.x = Math&lt;T&gt;::atan2 (M[1][2], M[2][2]);            // Remove the rot.x rotation from M, so that the remaining        // rotation, N, is only around two axes, and gimbal lock        // cannot occur.        var rx:Matrix3D = Matrix3D.rotationX( -rot.x );        var n:Matrix3D = Matrix3D.multiply( rx, m );        // Extract the other two angles, rot.y and rot.z, from N.        var cy:Number = Math.sqrt( n.n11 * n.n11 + n.n21 * n.n21); // T cy = Math&lt;T&gt;::sqrt (N[0][0]*N[0][0] + N[0][1]*N[0][1]);        rot.y = Math.atan2( -n.n31, cy ); // rot.y = Math&lt;T&gt;::atan2 (-N[0][2], cy);        rot.z = Math.atan2( -n.n12, n.n11 ); //rot.z = Math&lt;T&gt;::atan2 (-N[1][0], N[1][1]);        // Fix angles        if( rot.x == Math.PI )        {            if( rot.y &gt; 0 )                rot.y -= Math.PI;            else                rot.y += Math.PI;            rot.x = 0;            rot.z += Math.PI;        }        // Convert to degrees if needed         // Shouldn't this have a check for Papervision3D.useDEGREES?                 rot.x *= toDEGREES;        rot.y *= toDEGREES;        rot.z *= toDEGREES;                return rot;    }    */</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">matrix2euler</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span> :<span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">euler</span>:<span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">scale</span>:<span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptDefault_Text">Number3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptDefault_Text">euler</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">euler</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptComment">// need to get rid of scale</span>        <span class="ActionScriptComment">// TODO: whene scale is uniform, we can save some cycles. s = 3x3 determinant i beleive</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sx</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">scale</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">scale</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> 1 : <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sy</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">scale</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">scale</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> 1 : <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sz</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">scale</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">scale</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> 1 : <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n11</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sx</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n21</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sy</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n31</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sz</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n32</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sz</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n33</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sz</span>;                <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">&gt;</span> 1 <span class="ActionScriptOperator">?</span> 1 : <span class="ActionScriptDefault_Text">n31</span>;        <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptOperator">-</span>1 <span class="ActionScriptOperator">?</span> <span class="ActionScriptOperator">-</span>1 : <span class="ActionScriptDefault_Text">n31</span>;                <span class="ActionScriptComment">// zyx</span>        <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">asin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">n31</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">atan2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n21</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">n11</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">atan2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">n32</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">n33</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptComment">// TODO: fix singularities</span>                <span class="ActionScriptComment">// yzx</span>        <span class="ActionScriptComment">//euler.z = Math.asin(-m.n21);</span>        <span class="ActionScriptComment">//euler.y = Math.atan2(m.n31, m.n11);</span>        <span class="ActionScriptComment">//euler.x = Math.atan2(-m.n23, m.n22);</span>                <span class="ActionScriptComment">// zxy</span>        <span class="ActionScriptComment">//euler.x = Math.asin(-m.n32);</span>        <span class="ActionScriptComment">//euler.z = Math.atan2(-m.n12, m.n22);</span>        <span class="ActionScriptComment">//euler.y = Math.atan2(-m.n31, m.n33);</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Papervision3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">useDEGREES</span><span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">toDEGREES</span>;            <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">toDEGREES</span>;            <span class="ActionScriptDefault_Text">euler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*=</span> <span class="ActionScriptDefault_Text">toDEGREES</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">//  Clamp values</span>       <span class="ActionScriptComment">// euler.x = euler.x &lt; 0 ? euler.x + 360 : euler.x;</span>       <span class="ActionScriptComment">// euler.y = euler.y &lt; 0 ? euler.y + 360 : euler.y;</span>       <span class="ActionScriptComment">// euler.z = euler.z &lt; 0 ? euler.z + 360 : euler.z;</span>                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">euler</span>;    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">euler2matrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">deg</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("euler2matrix"); </span>                <span class="ActionScriptDefault_Text">temp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">temp</span>;                 <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">temp</span>;         <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ax</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">deg</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">toRADIANS</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ay</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">deg</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">toRADIANS</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">az</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">deg</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">toRADIANS</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">d</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">e</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ad</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">d</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bd</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">d</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>  <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">e</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">c</span>  <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">f</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">d</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">bd</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">e</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">f</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">bd</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">f</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">a</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">e</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">b</span>  <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">ad</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">e</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">f</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">ad</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">f</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">b</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">e</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">a</span>  <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ ROTATION</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotationX</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("rotationX"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span> :<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">c</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">s</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotationY</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("rotationY"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span> :<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">c</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">s</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotationZ</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("rotationZ"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span> :<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">c</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">s</span> :<span class="ActionScriptDefault_Text">Number</span>   <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">s</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">c</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotationMatrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rad</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">targetmatrix</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>;        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">targetmatrix</span><span class="ActionScriptBracket/Brace">)</span>         <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptComment">//trace("rotationmatrix"); </span>            <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">else</span> <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">targetmatrix</span>;                 <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nCos</span>:<span class="ActionScriptDefault_Text">Number</span>    <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nSin</span>:<span class="ActionScriptDefault_Text">Number</span>    <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">scos</span>:<span class="ActionScriptDefault_Text">Number</span>    <span class="ActionScriptOperator">=</span> 1 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">nCos</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sxy</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">syz</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sxz</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sz</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">nSin</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sy</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">nSin</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sx</span>    :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">nSin</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">nCos</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">sz</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sxy</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">sy</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sxz</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">sz</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sxy</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">nCos</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">sx</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">syz</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">sy</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sxz</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">sx</span>   <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">syz</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">nCos</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scos</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">rotationMatrixWithReference</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">axis</span>:<span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rad</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ref</span>:<span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">translationMatrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateMultiply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationMatrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">axis</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">axis</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">axis</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rad</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">calculateMultiply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">translationMatrix</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">ref</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ TRANSFORM</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">translationMatrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("translation matrix"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n14</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n24</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n34</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">scaleMatrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptComment">//trace("scalematrix"); </span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ QUATERNIONS</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">magnitudeQuaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">q</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">return</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">normalizeQuaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">q</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Object</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mag</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">magnitudeQuaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">q</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">q</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">axis2quaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">angle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Object</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sin</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">angle</span> <span class="ActionScriptOperator">/</span> 2 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cos</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">angle</span> <span class="ActionScriptOperator">/</span> 2 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">q</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">sin</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">sin</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">sin</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cos</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">normalizeQuaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">q</span> <span class="ActionScriptBracket/Brace">)</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">euler2quaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ax</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ay</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">az</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">targetquat</span>:<span class="ActionScriptDefault_Text">Quaternion</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>  <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Quaternion</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinPitch</span>       :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosPitch</span>       :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinYaw</span>         :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosYaw</span>         :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinRoll</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosRoll</span>        :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptOperator">*</span> 0.5 <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span> :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span> :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">q</span>:<span class="ActionScriptDefault_Text">Quaternion</span>;        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">targetquat</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">q</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Quaternion</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">else</span> <span class="ActionScriptDefault_Text">q</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">targetquat</span>;         <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span>     <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span>     <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">q</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// TODO (LOW) rewrite so that this takes an actual Quaternion object</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">quaternion2matrix</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">w</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">targetmatrix</span>:<span class="ActionScriptDefault_Text">Matrix3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">w</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">w</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">zz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">zw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">w</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>;                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">targetmatrix</span><span class="ActionScriptBracket/Brace">)</span>         <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptComment">//trace("quat to matrix"); </span>            <span class="ActionScriptDefault_Text">m</span>  <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IDENTITY</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">else</span>         <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">targetmatrix</span> ;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n11</span> <span class="ActionScriptOperator">=</span> 1 <span class="ActionScriptOperator">-</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">yy</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">zz</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n12</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xy</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">zw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n13</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xz</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">yw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n21</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xy</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">zw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n22</span> <span class="ActionScriptOperator">=</span> 1 <span class="ActionScriptOperator">-</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xx</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">zz</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n23</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">yz</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">xw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n31</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xz</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">yw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n32</span> <span class="ActionScriptOperator">=</span>     2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">yz</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">xw</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">n33</span> <span class="ActionScriptOperator">=</span> 1 <span class="ActionScriptOperator">-</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">xx</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">yy</span> <span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiplyQuaternion</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Object</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ax</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ay</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">az</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">by</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;  <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bw</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span>;        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">q</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">aw</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bx</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ax</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bw</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ay</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bz</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">az</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">by</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">aw</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">by</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ay</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bw</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">az</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bx</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">ax</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bz</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">aw</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bz</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">az</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bw</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ax</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">by</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">ay</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bx</span>;        <span class="ActionScriptDefault_Text">q</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">aw</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bw</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">ax</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bx</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">ay</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">by</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">az</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">bz</span>;        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">q</span>;    <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptComment">// _________________________________________________________________________________ TRIG</span>    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">toDEGREES</span> :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 180<span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span>;    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">toRADIANS</span> :<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span><span class="ActionScriptOperator">/</span>180;        <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_sin</span>:<span class="ActionScriptDefault_Text">Function</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span>;    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_cos</span>:<span class="ActionScriptDefault_Text">Function</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span>;                    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
